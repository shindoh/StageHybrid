<meta name="viewport"
	content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta charset="UTF-8">

<div data-role="page" id="CameraPage">
	<script type="text/javascript">
		$("#CameraPage").on("pageinit",function() {
			var pageParams = $.stageComponent.pageParam();

			var currentLoginId = $.stage.component.getSession();
			console.log("userID : " + currentLoginId.userId);

			getImageList();
					
			$("#edit").click(function() {
					$.stageComponent.pageMove("cameraEdit.html",{}, currentLoginId.userId);
					});

				});
		function getImageList() {
			var url = $.stage.restPool.GET_USER_PHOTO_ALBUM;
			var currentLoginId = $.stage.component.getSession();
			var params = {
				userId : currentLoginId.userId,
				listIndex : 0,
				listCount : 20
			};
			$.stage.ajax.getJson(url, params, function(data) {
				for ( var a = 0; a < 20; a++) {
					if (data.list[a] == null)
						break;
					$("<img>").appendTo("#img_space").attr("src",
							data.list[a].photoUrl).attr("width", '30%').attr(
							"height", '30%').attr("alt", "앨범" + (a + 1));

				}
				var options = {};
				$("#img_space img").photoSwipe(options);
				//console.log("여기요 : " + options.originalImages[0].src);
				
			}, true);

		}
	</script>
	<style>
#content {
	margin: 0;
	padding: 0;
}

ul {
	margin: 1%;
	padding: 0;
}

img {
	cursor: pointer;
	margin: 1.5%;
}
</style>
	<header data-role="header" data-position="fixed">
		<a href="#" data-role="button" data-icon="star" id="edit">편집</a> <a
			href="#" data-role="button" data-icon="arrow-d" data-iconpos="notext"
			id="list">목록</a>

		<h1>블로그_앨범</h1>

	</header>

	<div id="content">
		<ul id="img_space">
		</ul>
	</div>

	<footer data-role="footer" data-position="fixed">
		<h1>하단</h1>
	</footer>

</div>