<div data-role="page" id="loginPage">
	<link rel="stylesheet" type="text/css" href="login.css" />

	<script type="text/javascript">
		$.isNull = function() { //공백 비교 함수
			if ($("#ID").val() == "") {
				alert("ID가 비었습니다.");
				$("#ID").focus();
				return false;
			} else if ($("#CODE").val() == "") {
				alert("CODE가 비었습니다.");
				$("#CODE").focus();
				return false;
			} else {
				return true;
			}
		};
		$("#loginPage")
				.on(
						"pageinit",
						function() {

							$("#SUBMIT")
									.bind(
											"click",
											function() {
												if ($.isNull()) {//id와 password가 비어 있지 않으면,
													$.mobile
															.showPageLoadingMsg(
																	"b",
																	"loading...",
																	true);
													//파라미터 생성
													var params = {};
													params.id = $("#ID").val();
													params.pass = $("#CODE")
															.val();
													$.stageAjax
															.postJson(
																	$.stageRestPool.LOGIN_USER,
																	params,
																	function(
																			result) {
																		var infoData = result.data;
																		if (infoData == null) {
																			alert('ID 또는 CODE가 잘못 되었습니다');
																		} else {
																			$.stage.component
																					.setSession(
																							params.id,
																							params.pass);
																			$.mobile
																					.changePage("../blog/blog.html");
																		}
																	}, true);
													$.mobile
															.hidePageLoadingMsg();
												}

											});

							$("#JOIN").bind("click", function() { //회원가입 버튼을 누르면 회원 가입 폼으로
								$.mobile.changePage("join.html");
							});

							$("#historyback").bind("click", function() { //이전페이지를 누르면 토크 리스트로 이동한다.
								$.mobile.changePage("../talk/talkList.html");
							});
						});
	</script>

	<header data-role="header" id="header" data-position="fixed"
		data-tap-toggle="false">
		<h1>로그인</h1>
		<div id="historyback" class="ui-btn-left"></div>
		<div id="backBtnLine1" class="ui-btn-left"></div>
	</header>

	<section data-role="content" id="cont" data-role="fieldcontain">
		<div id="back">
			<center>
				<div id="title">
					<h2>LOGIN</h2>
				</div>
			</center>

			<div id="area_id">
				<img src="images/id_icon.png" align="left"> <label for="ID"
					id="label_ID">&nbsp;Personal ID</label>
			</div>
			<center>
				<input type="text" name="name" maxlength="10" id="ID" value=""
					data-mini="true" />
			</center>

			<div id="area_pw">
				<img src="images/pw_icon.png" align="left"> <label for="CODE"
					id="label_PW">&nbsp;Password</label>
			</div>
			<center>
				<input type="password" name="name" id="CODE" value=""
					data-mini="true" />
			</center>

			<center>
				<div id="button">
					<div id="JOIN">
						<button type="submit" data-theme="d" data-mini="true">가입하기</button>
					</div>
					<div id="SUBMIT">
						<button type="submit" data-theme="c" data-mini="true">로그인</button>
					</div>
				</div>
			</center>
		</div>
	</section>

	<footer data-role="footer" id="footer" data-theme="a"
		data-position="fixed" data-tap-toggle="false">
		<ul>
			<li><a href="../talk/talkList.html" id="mainStalkButton"></a></li>
			<li><a href="../blog/blog.html" id="mainBlogButton"></a></li>
			<li><a href="../party/partyList.html" id="mainPartyButton"></a></li>
			<li><a href="../blog/camera.html" id="mainLoungeButton"></a></li>
			<li><a href="../blog/wall.html" id="mainSettingButton"></a></li>
		</ul>

	</footer>
</div>